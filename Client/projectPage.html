<!DOCTYPE html>
<html lang="en" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Easy Tracker - ×ª×™×¢×•×“ ×©×¢×•×ª</title>
    <link rel="icon" href="/images/fav-icon.png" type="images/png" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
  />
    <!-- jquery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
   
    <link
    href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"
    rel="stylesheet"
    />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
  />
    <link
    href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.dataTables.min.css"
    rel="stylesheet"
    />
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<link rel="stylesheet" href="animate.css" />

<!-- SheetJS library for Excel export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- ×ª×™×§×•×Ÿ ××™×§×•× ×›×¤×ª×•×¨ ×¦×£ - ×›×¤×™×™×” ×œ×¦×“ ×©×××œ -->
<style>
  .floating-assistant-btn {
    position: fixed !important;
    bottom: 30px !important;
    left: 30px !important;
    right: auto !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    transform: none !important;
  }

  @media (max-width: 768px) {
    .floating-assistant-btn {
      bottom: 20px !important;
      left: 20px !important;
      right: auto !important;
    }
  }
</style>

<style>
  /* Modern Sessions Table Styling */
  #sessionsTable {
    width: 100% !important;
    border-collapse: separate;
    border-spacing: 0 10px;
    font-family: 'Assistant', sans-serif;
    margin-bottom: 25px;
    background: transparent;
  }
  
  #sessionsTable thead th {
    background: linear-gradient(to right, #f0f4ff, #ffffff);
    color: #555;
    font-weight: 600;
    text-align: center;
    padding: 16px 12px;
    border-bottom: 2px solid #eaeaea;
    font-size: 13px;
    transition: all 0.3s ease;
    position: relative;
    letter-spacing: 0.5px;
    text-transform: uppercase;
  }
  
  #sessionsTable thead th::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(to right, #0072ff, transparent);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
  }
  
  #sessionsTable thead:hover th::after {
    transform: scaleX(1);
  }
  
  #sessionsTable tbody tr {
    background-color: white;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.07);
    border-radius: 10px;
    position: relative;
    margin-bottom: 10px;
  }
  
  #sessionsTable tbody tr:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
  }
  
  #sessionsTable tbody td {
    padding: 18px 12px;
    text-align: center;
    color: #444;
    border: none;
    font-size: 14px;
    position: relative;
  }
  
  /* Make first td have rounded corners */
  #sessionsTable tbody td:first-child {
    border-radius: 10px 0 0 10px;
  }
  
  /* Make last td have rounded corners */
  #sessionsTable tbody td:last-child {
    border-radius: 0 10px 10px 0;
  }
  
  #sessionsTable tfoot {
    background-color: transparent;
    font-weight: bold;
  }
  
  #sessionsTable tfoot th {
    padding: 18px 12px;
    border-top: 2px solid #eaeaea;
    color: #0072ff;
    font-size: 15px;
    background: linear-gradient(to right, #f7faff, #ffffff);
  }
  
  #sessionsTable tfoot #total-worktime,
  #sessionsTable tfoot #total-earnings {
    font-size: 16px;
    color: #0072ff;
    font-weight: 700;
    text-shadow: 0 1px 1px rgba(0,0,0,0.05);
  }
  
  /* Buttons styling */
  #sessionsTable .edit-btn,
  #sessionsTable .delete-btn,
  #sessionsTable .details-control {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 18px;
    margin: 0 5px;
    padding: 8px 12px;
    border-radius: 8px;
    transition: all 0.2s ease;
    opacity: 0.85;
  }
  
  #sessionsTable .edit-btn {
    color: #0072ff;
  }
  
  #sessionsTable .delete-btn {
    color: #ff4e50;
  }
  
  #sessionsTable .edit-btn:hover,
  #sessionsTable .details-control:hover {
    background-color: rgba(0, 114, 255, 0.1);
    opacity: 1;
    transform: scale(1.1);
  }
  
  #sessionsTable .delete-btn:hover {
    background-color: rgba(255, 78, 80, 0.1);
    opacity: 1;
    transform: scale(1.1);
  }
  
  /* Details section styling */
  .details-row {
    padding: 20px;
    margin: 10px 0 15px 0;
    background-color: #f9f9f9;
    border-radius: 12px;
    color: #555;
    box-shadow: inset 0 0 8px rgba(0,0,0,0.03);
    line-height: 1.5;
    font-size: 14px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* ×ª×•×›×Ÿ ×”×¤×¨×˜×™× - ×”×“×™×‘ ×”×¨××©×•×Ÿ */
  .details-row > div {
    width: 100%;
    max-width: 750px;
    display: flex;
    justify-content: center;
  }

  /* ×”×“×™×‘ ×”×¤× ×™××™ ×¢× ×”×ª×™××•×¨ */
  .details-row > div > div {
    width: 100%;
    max-width: 750px;
  }

  /* ×ª×•×›×Ÿ ×”×ª×™××•×¨ */
  .details-row > div > div > div:last-child {
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    overflow-wrap: break-word;
    text-align: right;
    direction: rtl;
  }
  
  /* Export buttons styling */
  .export-buttons-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
  }

  /* AI Helper Tooltips Styling */
  .ai-tooltip {
    position: absolute;
    top: calc(100% + 10px);
    right: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    z-index: 1000;
    min-width: 300px;
    max-width: 400px;
    animation: fadeInScale 0.3s ease-out;
    border: 2px solid rgba(255, 255, 255, 0.2);
  }

  .ai-tooltip::before {
    content: '';
    position: absolute;
    bottom: 100%;
    right: 20px;
    border: 8px solid transparent;
    border-bottom-color: #667eea;
  }

  .ai-tooltip-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .ai-tooltip-text {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    line-height: 1.4;
  }

  .ai-icon {
    font-size: 18px;
    flex-shrink: 0;
  }

  .ai-tooltip-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    transition: all 0.2s ease;
    align-self: flex-end;
  }

  .ai-yes-btn {
    background: rgba(255, 255, 255, 0.9);
    color: #667eea;
  }

  .ai-yes-btn:hover {
    background: white;
    transform: translateY(-1px);
  }

  .ai-no-btn {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .ai-no-btn:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  .ai-tooltip-buttons {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
  }

  /* AI Loading Styling */
  .ai-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    z-index: 999;
    backdrop-filter: blur(5px);
  }

  .ai-loading-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    color: #667eea;
    font-weight: 500;
  }

  .ai-spinner {
    width: 30px;
    height: 30px;
    border: 3px solid rgba(102, 126, 234, 0.2);
    border-top: 3px solid #667eea;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .export-buttons-container {
    margin-top: 25px;
  }
  
  .export-buttons-left {
    display: flex;
    gap: 15px;
  }
  
  .export-buttons-right {
    display: flex;
    align-items: center;
  }
  
  /* Toggle switch styling */
  .toggle-container {
    display: flex;
    align-items: center;
    gap: 12px;
    font-family: 'Assistant', sans-serif;
    font-weight: 500;
    color: #333;
  }
  
  .toggle-switch {
    position: relative;
    width: 60px;
    height: 30px;
    background-color: #ccc;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  .toggle-switch.active {
    background-color: #4CAF50;
  }
  
  .toggle-slider {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .toggle-switch.active .toggle-slider {
    transform: translateX(30px);
  }
  
  .toggle-label {
    font-size: 16px;
    user-select: none;
  }
  
  /* Disabled state */
  .toggle-container.disabled {
    opacity: 0.6;
    pointer-events: none;
  }
  
  .toggle-container.disabled .toggle-label {
    color: #999;
  }
  
  .export-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    border: none;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  
  .export-pdf {
    background: linear-gradient(135deg, #ff4e50, #f9d423);
    color: white;
  }
  
  .export-excel {
    background: linear-gradient(135deg, #56ab2f, #a8e063);
    color: white;
  }
  
  .export-button:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
  }
  
  .export-button:active {
    transform: translateY(1px);
  }
  
  .export-icon {
    margin-left: 10px;
    font-size: 18px;
  }
  
  /* DataTables overrides for prettier integration */
  .dataTables_wrapper {
    padding: 15px 0;
    background: transparent !important;
  }
  
  /* Label styling improvements - keep shape but respect original colors */
  #sessionsTable tbody td span {
    font-weight: 600;
    padding: 6px 12px;
    border-radius: 20px;
    display: inline-block;
    min-width: 100px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  /* Style the time/money columns to stand out */
  #sessionsTable tbody td:nth-child(6),
  #sessionsTable tbody td:nth-child(7) {
    font-weight: 600;
    color: #0072ff;
    font-size: 14.5px;
  }

  /* Text wrapping only for description column */
  #sessionsTable tbody td:nth-child(5) {
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    max-width: 250px;
    min-width: 150px;
  }
  
  /* Empty table message styling */
  .dataTables_empty {
    padding: 30px !important;
    font-size: 16px !important;
    color: #888 !important;
    background: #f9f9f9 !important;
    border-radius: 10px !important;
  }
  
  /* Table container for proper spacing */
  .changes-box {
    padding: 20px;
    border-radius: 16px;
    background: linear-gradient(145deg, #f9f9f9, #ffffff);
    box-shadow: 0 3px 15px rgba(0,0,0,0.05);
  }

  /* Elegant notification styling */
  .save-notification {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translate(-50%, -100px);
    background-color: #4CAF50;
    color: white;
    padding: 15px 25px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 9999;
    transition: transform 0.4s ease, opacity 0.4s ease;
    opacity: 0;
    font-family: 'Assistant', sans-serif;
    font-weight: 500;
    font-size: 16px;
    max-width: 90%;
  }
  
  .save-notification.show {
    transform: translate(-50%, 0);
    opacity: 1;
  }
  
  .notification-icon {
    width: 24px;
    height: 24px;
    background-color: rgba(255, 255, 255, 0.25);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
  }
  
  .notification-message {
    font-size: 16px;
    padding-right: 5px;
  }

  /* Profile arrow styling */
  .profile-arrow {
    position: relative;
    cursor: pointer;
    margin-right: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    transition: all 0.3s ease;
  }
  
  .profile-arrow i {
    font-size: 14px;
    background: linear-gradient(to right, #00c6ff, #0072ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    transition: transform 0.3s ease;
  }
  
  .profile-arrow:hover i {
    transform: translateY(2px);
  }
  
  /* Add a subtle circular background on hover */
  .profile-arrow:hover::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 114, 255, 0.1);
    border-radius: 50%;
    z-index: -1;
    animation: pulse 1.5s infinite ease-in-out;
  }
  
  @keyframes pulse {
    0% { transform: scale(0.95); opacity: 0.7; }
    50% { transform: scale(1.05); opacity: 0.4; }
    100% { transform: scale(0.95); opacity: 0.7; }
  }

  /* Styles for color options in add label popup */
  .color-option {
    transition: all 0.2s ease;
    border: 2px solid transparent;
  }
  
  .color-option.selected {
    transform: scale(1.15);
    box-shadow: 0 0 0 3px white, 0 0 0 5px;
  }
  
  /* Custom styling for select elements */
  .custom-select-wrapper select:focus {
    outline: none;
    border-color: #0072ff !important;
    box-shadow: 0 0 0 3px rgba(0, 114, 255, 0.1) !important;
  }
  
  /* End Session popup styling */
  #end-session-popup textarea:focus, 
  #end-session-popup input:focus {
    outline: none;
    border-color: #0072ff !important;
    box-shadow: 0 0 0 3px rgba(0, 114, 255, 0.1) !important;
  }
  
  #end-session-popup .btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0, 114, 255, 0.25);
  }
  
  #end-session-popup .btn-submit:active {
    transform: translateY(0);
  }

  /* Force select dropdowns to open downward */
  select {
    direction: rtl;
  }
  
  /* Override browser dropdown direction */
  select.force-dropdown-down {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="6"><path d="M0 0 L12 0 L6 6 Z" fill="%230072ff"/></svg>');
    background-repeat: no-repeat;
    background-position: left 12px center;
    background-size: 12px;
    padding-left: 30px !important;
    size: 1;
    position: relative;
  }
  
  /* Hide standard dropdown arrow in IE */
  select::-ms-expand {
    display: none;
  }
  
  /* Remove arrow when using custom background */
  .custom-select-wrapper .dropdown-arrow {
    display: none;
  }
  
  /* Firefox specific fix */
  @-moz-document url-prefix() {
    select.force-dropdown-down {
      text-indent: 0;
      text-overflow: '';
      padding-right: 15px;
      padding-left: 30px !important;
    }
  }

  /* ×›×¤×ª×•×¨ ×”×•×¡×¤×ª ×¡×©×Ÿ - ××¤×§×˜×™ hover ××¢× ×™×™× ×™× */
  .add-session-hover-btn {
    position: relative;
    overflow: hidden;
  }

  .add-session-hover-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
  }

  .add-session-hover-btn:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(0, 114, 255, 0.4), 0 0 20px rgba(0, 114, 255, 0.2);
    background: linear-gradient(135deg, #0080ff, #00d4ff);
  }

  .add-session-hover-btn:hover::before {
    left: 100%;
  }

  .add-session-hover-btn:hover i {
    animation: pulseIcon 0.6s ease;
  }

  .add-session-hover-btn:active {
    transform: translateY(-1px) scale(1.01);
    transition: all 0.1s ease;
  }

  @keyframes pulseIcon {
    0% { transform: scale(1); }
    50% { transform: scale(1.2) rotate(90deg); }
    100% { transform: scale(1) rotate(0deg); }
  }

  /* ×›×¤×ª×•×¨ ×¢×•×¨×š ×”×ª×™××•×¨ - ××¤×§×˜ hover ××¢×•×¦×‘ */
  .description-editor-btn {
    position: relative;
    overflow: hidden;
  }

  .description-editor-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.6s ease;
  }

  .description-editor-btn:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(0, 114, 255, 0.4), 0 0 20px rgba(0, 114, 255, 0.2);
    background: linear-gradient(135deg, #0080ff, #00d4ff);
  }

  .description-editor-btn:hover::before {
    left: 100%;
  }

  .description-editor-btn:hover i {
    animation: bounceIcon 0.6s ease;
    color: #fff;
  }

  .description-editor-btn:active {
    transform: translateY(-1px) scale(1.01);
    transition: all 0.1s ease;
  }

  @keyframes bounceIcon {
    0% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.2) rotate(-10deg); }
    50% { transform: scale(1.3) rotate(5deg); }
    75% { transform: scale(1.1) rotate(-3deg); }
    100% { transform: scale(1) rotate(0deg); }
  }

  /* ××¤×§×˜ ×’×œ×™× ×‘×œ×—×™×¦×” */
  .add-session-hover-btn {
    position: relative;
  }

  .add-session-hover-btn:active::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    animation: ripple 0.4s ease-out;
  }

  @keyframes ripple {
    to {
      width: 300px;
      height: 300px;
      opacity: 0;
    }
  }

  /* ××¤×§×˜ ×§×•× ×¤×˜×™ ×œ×”×ª×—×œ×ª ×¡×©×Ÿ */
  .confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 10000;
    overflow: hidden;
  }

  .confetti-piece {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #0072ff;
    animation: confetti-fall 3s linear forwards;
  }

  .confetti-piece:nth-child(odd) {
    background: #00c6ff;
    animation-duration: 2.5s;
  }

  .confetti-piece:nth-child(3n) {
    background: #28a745;
    animation-duration: 3.2s;
    width: 6px;
    height: 6px;
  }

  .confetti-piece:nth-child(4n) {
    background: #ffc107;
    animation-duration: 2.8s;
    border-radius: 50%;
  }

  .confetti-piece:nth-child(5n) {
    background: #ff6b6b;
    animation-duration: 3.5s;
    width: 10px;
    height: 4px;
  }

  @keyframes confetti-fall {
    0% {
      transform: translateY(-100vh) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  /* ×”×•×“×¢×ª ×”×ª×—×œ×” ××¢×•×¦×‘×ª */
  .start-session-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #0072ff, #00c6ff);
    color: white;
    padding: 20px 40px;
    border-radius: 15px;
    font-size: 24px;
    font-weight: bold;
    box-shadow: 0 10px 30px rgba(0, 114, 255, 0.3);
    z-index: 10001;
    pointer-events: none;
    opacity: 0;
    animation: showStartMessage 3s ease;
    text-align: center;
    direction: rtl;
  }

  /* ×”×•×“×¢×ª ×¡×™×•× ××¢×•×¦×‘×ª - ×œ×œ× ×× ×™××¦×™×” ××•×˜×•××˜×™×ª */
  .end-session-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #0072ff, #00c6ff);
    color: white;
    padding: 20px 40px;
    border-radius: 15px;
    font-size: 24px;
    font-weight: bold;
    box-shadow: 0 10px 30px rgba(0, 114, 255, 0.3);
    z-index: 10001;
    pointer-events: auto;
    opacity: 1;
    text-align: center;
    direction: rtl;
    max-width: 600px;
    animation: fadeInOnly 0.5s ease;
  }

  /* ×× ×™××¦×™×™×ª ×›× ×™×¡×” ×‘×œ×‘×“ */
  @keyframes fadeInOnly {
    from {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.8);
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
  }

  @keyframes showStartMessage {
    0% {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.8);
    }
    15% {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.1);
    }
    25% {
      transform: translate(-50%, -50%) scale(1);
    }
    85% {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9);
    }
  }

  /* ×× ×™××¦×™×” ×œ×”×•×“×¢×ª ×¡×™×•× */
  @keyframes fadeOut {
    from {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
    to {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9);
    }
  }

  /* ×›×¤×ª×•×¨ ×¡×’×™×¨×” ×‘×”×•×“×¢×ª ×¡×™×•× */
  .end-message-close-btn {
    position: absolute;
    top: -5px;
    right: -5px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    opacity: 0.7;
    backdrop-filter: blur(5px);
  }

  .end-message-close-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    opacity: 1;
    transform: scale(1.1);
  }

  /* ×× ×™××¦×™×™×ª ×¡×¤×™× ×¨ ×˜×¢×™× ×” */
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Additional fix for dropdown direction */
  .custom-select-wrapper {
    position: relative;
    display: block;
    width: 100%;
  }

  /* Chrome/Safari/Edge RTL fix - force downward opening */
  @supports (-webkit-appearance:none) {
    select.force-dropdown-down {
      size: 1 !important;
    }
  }

  /* Force dropdown behavior with JS overrides */
  #session-label {
    overflow: hidden !important;
  }
  
  /* Hide dropdown direction arrow completely */
  select.force-dropdown-down::-webkit-details-marker,
  select.force-dropdown-down::marker {
    display: none !important;
  }
  
  /* Additional reset for select element */
  select.force-dropdown-down optgroup,
  select.force-dropdown-down option {
    direction: rtl;
  }

  /* ×¢×™×¦×•×‘ ×‘×•×—×¨ ×”×¦×‘×¢×™× ×”××•×ª×× ××™×©×™×ª */
  .color-picker-container {
    margin-top: 8px;
  }

  .color-palette {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 8px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 1px solid #e0e0e0;
    margin-bottom: 20px;
    width: 100%;
    box-sizing: border-box;
  }

  .color-option {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
    position: relative;
    margin: auto;
  }

  .color-option:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1;
  }

  .color-option.selected {
    border-color: #0072ff;
    box-shadow: 0 0 0 2px #0072ff, 0 4px 8px rgba(0, 114, 255, 0.3);
    transform: scale(1.1);
  }

  .color-option.custom-color {
    background: linear-gradient(
      45deg,
      #ff6b6b 25%,
      #4ecdc4 25%,
      #4ecdc4 50%,
      #45b7d1 50%,
      #45b7d1 75%,
      #96ceb4 75%
    );
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 14px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    grid-column: 1;
    grid-row: 3;
  }

  .color-option.custom-color:hover {
    background: linear-gradient(
      45deg,
      #ff5252 25%,
      #26c6da 25%,
      #26c6da 50%,
      #2196f3 50%,
      #2196f3 75%,
      #66bb6a 75%
    );
  }

  /* ×¢×™×¦×•×‘ ×ª×¦×•×’×” ××§×“×™××” ×©×œ ×”×ª×’×™×ª */
  .label-preview-container {
    margin-bottom: 20px;
    text-align: center;
  }

  .label-preview-container label {
    display: block;
    margin-bottom: 12px;
    font-weight: 600;
    color: #333;
  }

  .label-preview {
    display: inline-block;
    padding: 12px 24px;
    border-radius: 25px;
    background-color: #6699cc;
    color: #fff;
    font-weight: 600;
    font-size: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
    min-width: 120px;
    max-width: 250px;
    text-align: center;
    border: 3px solid rgba(255, 255, 255, 0.2);
    position: relative;
  }

  .label-preview::before {
    content: "";
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.3),
      rgba(255, 255, 255, 0.1)
    );
    border-radius: 28px;
    z-index: -1;
  }

  #preview-text-project {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* ×¢×™×¦×•×‘ ×‘×•×—×¨ ×¦×‘×¢×™× ××•×ª×× ××™×©×™×ª ×œ×¤×•×¤ ××¤ */
  #custom-color-picker-project {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 300px !important;
    height: 300px !important;
    border: none !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3) !important;
    z-index: 99999 !important;
  }
</style>

  </head>
  <body class="wow fadeIn">
    <div class="projects-continer">
      <div class="sidbar">
        <div class="inner-sidbar">
          <div class="profile">
            <img src="#" class="avatar-img" alt="" />
        <h3>×”×™, <span id="menu-prof-name">××©×ª××©</span> ğŸ‘‹</h3>
            <span class="profile-arrow"><i class="fas fa-chevron-down"></i></span>
            <div id="user-dropdown-menu" style="display: none;">
              <button id="edit-profile-btn" class="user-menu-btn">âœï¸ ×¢×¨×™×›×ª ×¤×¨×•×¤×™×œ</button>
              <button id="logout-btn" class="user-menu-btn">ğŸšª ×”×ª× ×ª×§</button>
            </div>
          </div>
          <img src="./images/logo.png" class="logo-sidebar" alt="" />
          <div class="nav-continer">
            <div class="main-nav">
              <ul>
                <li>
                  <a href="projects.html" class="active">
                    <img
                      src="./images/icons/proj-white.png"
                      alt="×¤×¨×•×™×§×˜×™×"
                      class="nav-icon"
                    />
                    <span>×¤×¨×•×™×§×˜×™×</span>
                  </a>
                </li>
                <li>
                  <a href="clients.html" class="">
                    <img
                      src="./images/icons/customer-black.png"
                      alt="×œ×§×•×—×•×ª"
                      class="nav-icon"
                    />
                    <span>×œ×§×•×—×•×ª</span>
                  </a>
                </li>
                <li>
                  <a href="stats.html" class="">
                    <img
                      src="./images/icons/statistics and analytics-black.png"
                      alt="×“×•×—×•×ª"
                      class="nav-icon"
                    />
                    <span>× ×™×ª×•×— ×•×“×•×—×•×ª</span>
                  </a>
                </li>
                <li>
                  <a href="labels.html" class="">
                    <img
                      src="./images/icons/lablels-black.png"
                      alt="×ª×™×•×’×™×"
                      class="nav-icon"
                    />
                    <span>×ª×™×•×’×™×</span>
                  </a>
                </li>
                <li>
                  <a href="assistant.html" class="">
                    <img
                      src="./images/icons/aiassistant-black.png"
                      alt="×”×¢×•×–×¨ ×”××™×©×™"
                      class="nav-icon"
                    />
                    <span>×”×¢×•×–×¨ ×”××™×©×™</span>
                  </a>
                </li>
              </ul>
            </div>
            <div class="help-nav">
              <ul>
                <li>
                  <a href="help.html">
                    <img
                      src="./images/icons/help-black.png"
                      alt="×¢×–×¨×”"
                      class="nav-icon"
                    />
                    <span>×¢×–×¨×”</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="content">
          
            <div class="dashboard-container">
                <!-- ×©×œ×•×© ×§×•×¤×¡××•×ª ×œ××¢×œ×” -->
                <div class="team-box box box-info-proj">
                  
                  <nav class="breadcrumbs">
                    <a href="./projects.html">×¤×¨×•×™×§×˜×™×</a>
                    <span class="separator"> â€º </span>
                    <span id="breadcrumbsProjName">×¤×™×ª×•×— ××ª×¨ ××™× ×˜×¨× ×˜ - ××›×œ×œ×ª ×¨×•×¤×™×Ÿ</span>
                  </nav>

                    <h1 class="project-title" id="ProjectTitle">×¤×™×ª×•×— ××ª×¨ ××™× ×˜×¨× ×˜</h1>
                    <h4 class="project-client" id="ProjectClient">××›×œ×œ×ª ×¨×•×¤×™×Ÿ</h4>
                      <hr class="line" />
                      <h5 class="info-save">
                        ×›××Ÿ ×× ×—× ×• ×©×•××¨×™× ×œ×š ×¢×œ ×›×œ ×”×¤×¨×˜×™× ×•×—×•××¨×™ ×”×¢×–×¨ ×”×—×©×•×‘×™× ×©×œ×š!
                      </h5>
                      <button class="gradient-button description-editor-btn" id="open-description-editor" style="padding: 12px 20px; background: linear-gradient(135deg, #0072ff, #00c6ff); border: none; border-radius: 8px; color: white; font-weight: bold; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px; box-shadow: 0 3px 10px rgba(0, 114, 255, 0.3); transition: all 0.3s ease;">
                        <i class="fas fa-file-alt" style="font-size: 16px;"></i>
                        <span>×›×œ ×”×¤×¨×˜×™× ×›××Ÿ!</span>
                      </button>



                </div>
                <div class="timer-box box center-content-flx">
                  <div class="stopwatch-container">
                    <div class="circle-timer">
                      <svg width="200" height="200">
                        <circle class="circle-bg" cx="100" cy="100" r="94" />
                        <circle class="circle-progress" cx="100" cy="100" r="94" />
                      </svg>
                      <div class="time-display" id="time">00:00:00</div>
                    </div>
                    <div class="buttons">
                      <button class="btn" id="toggle-btn">
                        <img src="./images/play-icon.png" id="toggle-icon"/>
                        <span id="toggle-text">×”×ª×—×œ</span>
                      </button>
                      <button class="btn" id="stop-btn">
                        <img src="./images/stop-icon.png" />
                        <span>×¡×™×™×</span>
                      </button>
                    </div>
                  </div>

              </div>
                <div class="project-summary-box ">
                  
                  <div class="half-box">
                    <div class="header-Of-Team"><h3 class="team-title">×¦×•×•×ª ×”×¤×¨×•×™×§×˜:</h3>
                      <button class="gradient-button-header-team" id="btn-header-team">× ×™×”×•×œ ×¦×•×•×ª</button>
                      <a href="chat.html" id="btn-header-chat" class="gradient-button-header-chat chat-button-wrapper">
  ×¦'××˜
  <span id="chat-unread-dot" class="unread-dot" style="display: none;"></span>
</a>

                      <div id="team-dropdown-menu" style="display: none; position: absolute; background: white; border: 1px solid #ccc; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); z-index: 1000;">
                          <button class="team-menu-btn">â• ×”×•×¡×£ ××™×© ×¦×•×•×ª</button>
                          <button class="team-menu-btn">â– ×”×¡×¨ ××™×© ×¦×•×•×ª</button>
                          <button class="team-menu-btn">ğŸ—‚ï¸ × ×™×”×•×œ ××©×™××•×ª</button>
                        </div>
                      </div>
                      
                      <div class="connected-users-to-project" id="project-team-preview">
                        
                        <!-- <img src="./images/profile arrow.png" id="open-team-popup"class="arrow-btn" alt=""> -->
                      </div>

                  </div>
                  <div class="half-box">
                    
                    <div class="progress-box">
                      <label class="progress-title">×”×”×ª×§×“××•×ª ×©×œ×™</label>
                      <div class="progress-track">
                        <div class="progress-fill" id="progress-fill">
                          <span id="progress-text">0%</span>
                        </div>
                      </div>
                    </div>
                    

                  </div>
                </div>
              
                <!-- ×§×•×¤×¡×” ×’×“×•×œ×” ×‘××¨×›×– -->
                <div class="changes-box box">
                  
                  <!-- ×›×¤×ª×•×¨ ×”×•×¡×¤×ª ×¡×©×Ÿ ×™×“× ×™×ª -->
                  <div style="margin-bottom: 20px; display: flex; justify-content: flex-start; align-items: center; gap: 10px;">
                    <button id="add-manual-session-btn" class="btn-submit add-session-hover-btn" style="padding: 12px 20px; background: linear-gradient(135deg, #0072ff, #00c6ff); border: none; border-radius: 8px; color: white; font-weight: bold; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px; box-shadow: 0 3px 10px rgba(0, 114, 255, 0.3); transition: all 0.3s ease, transform 0.2s ease;">
                      <i class="fas fa-plus-circle" style="font-size: 16px;"></i>
                      <span>×”×•×¡×£ ×¡×©×Ÿ ×™×“× ×™×ª</span>
                    </button>
                    <div style="font-size: 14px; color: #666; font-style: italic;">
                      ×¦×•×¨ ×¨×™×©×•× ×¡×©×Ÿ ×‘××•×¤×Ÿ ×™×“× ×™ ×¢×‘×•×¨ ×¢×‘×•×“×” ×§×•×“××ª
                    </div>
                  </div>

                  <table id="sessionsTable" class="display responsive nowrap">
                    <thead>
                      <tr>
                        <th></th>
                        <th>×ª××¨×™×š</th>
                        <th>×©×¢×ª ×”×ª×—×œ×”</th>
                        <th>×©×¢×ª ×¡×™×•×</th>
                        <th>×ª×¢×¨×™×£</th>
                        <th>×–××Ÿ ×¢×‘×•×“×”</th>
                        <th>×©×›×¨</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      
                      <!--×›××Ÿ × ×›× ×¡×™× ×”×¡×©× ×™×  ××”-JS.. -->
                    </tbody>
                    <tfoot>
                      <tr>
                        <th colspan="5" style="text-align:right">×¡×”"×›:</th>
                        <th id="total-worktime" style="text-align:center"></th>
                        <th id="total-earnings" style="text-align:center"></th>
                        <th></th>
                        <th></th>
                      </tr>
                    </tfoot>
                  </table>

                  <div id="export-buttons" class="export-buttons-container">
                    <div class="export-buttons-left">
                      <button id="export-pdf" class="export-button export-pdf">
                        <span class="export-icon">ğŸ“„</span> ×”×¤×§ ×“×•×— PDF
                      </button>
                      <button id="export-excel" class="export-button export-excel">
                        <span class="export-icon">ğŸ“Š</span> ×™×™×¦× ×œ××§×¡×œ
                      </button>
                      <button id="create-invoice" class="export-button create-invoice" title="×”×•×¦××ª ×—×©×‘×•× ×™×ª ×¢×¡×§×” ××ª×‘×¦×¢×ª ×‘×××¦×¢×•×ª ×”×ª×××©×§×•×ª ×œ×©×™×¨×•×ª '×—×©×‘×•× ×™×ª ×™×¨×•×§×”'. ×¢×œ ×× ×ª ×œ×”×©×ª××© ×‘×ª×›×•× ×” ×–×• × ×“×¨×© ×œ×”×™×•×ª ×‘×¢×œ ×—×©×‘×•×Ÿ ×¤×¢×™×œ ×‘×—×©×‘×•× ×™×ª ×™×¨×•×§×”">
                        <span class="export-icon">ğŸ§¾</span> ×—×©×‘×•× ×™×ª ×¢×¡×§×” <i class="fas fa-info-circle" style="margin-right: 6px; opacity: 0.8;"></i>
                      </button>
                    </div>
                    <div class="export-buttons-right">
                      <div class="toggle-container">
                        <span class="toggle-label">×¤×¨×•×™×§×˜ ×”×•×©×œ×</span>
                        <div id="project-status-toggle" class="toggle-switch">
                          <div class="toggle-slider"></div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              
                <!-- ×§×•×¤×¡×” ××—×¨×•× ×” ×œ××˜×” -->
                <div class="recent-projects-box box">
                  

                    <!-- ×‘×ª×•×š ×”-div ×©×œ recent-projects-box -->
                    <div class="swiper recent-projects-swiper">
                      <div class="swiper-wrapper" id="recent-projects-wrapper">
                        <!-- ×›×¨×˜×™×¡×™× ×™×™×›× ×¡×• ×œ×›××Ÿ ×“×™× ××™×ª -->
                      </div>
                      <!-- ×›×¤×ª×•×¨×™ × ×™×•×•×˜ -->
                      <div class="swiper-button-prev"></div>
                      <div class="swiper-button-next"></div>
                    </div>


                </div>
              </div>
              



            </div>
          </div>

          <div class="body-projects" id="projects">

            </div>

            <div
            id="new-project-form"
            style="
              display: none;
              width: 25%;
              padding: 20px;
              background-color: #f8f8f8;
              border-radius: 10px;
              text-align: right;
            "
          >
            <h2 style="color: #333; text-align: center">ğŸ“ ×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ ×—×“×©</h2>
            <form id="project-form">
              <!-- ×©× ×¤×¨×•×™×§×˜ -->
              <label for="projectName">:×©× ×”×¤×¨×•×™×§×˜</label>
              <input
                type="text"
                id="projectName"
                name="projectName"
                placeholder="×”×›× ×¡ ×©× ×¤×¨×•×™×§×˜"
                required
              />
              <br />
      
              <!-- ×ª×™××•×¨ ×¤×¨×•×™×§×˜ -->
              <label for="projectDesc">:×ª×™××•×¨ ×”×¤×¨×•×™×§×˜</label>
              <textarea
                id="projectDesc"
                name="projectDesc"
                placeholder="×”×›× ×¡ ×ª×™××•×¨ ×œ×¤×¨×•×™×§×˜"
                rows="3"
                required
              ></textarea>
              <br />
      
              <!-- ×ª×¢×¨×™×£ ×©×¢×ª×™ -->
              <label for="hourlyRate">:(â‚ª)×ª×¢×¨×™×£ ×©×¢×ª×™ </label>
              <input
                type="number"
                id="hourlyRate"
                name="hourlyRate"
                placeholder="×”×›× ×¡ ×ª×¢×¨×™×£ ×œ×©×¢×”"
                min="1"
                required
              />
              <br />
      
              <!-- URL ×œ×ª××•× ×” -->
              <label for="projectImage">:×§×™×©×•×¨ ×œ×ª××•× ×”</label>
              <input
                type="url"
                id="projectImage"
                name="projectImage"
                placeholder="×”×›× ×¡ URL ×œ×ª××•× ×”"
              />
              <br />
      
                      <!-- ×œ×§×•×— -->
            <label for="clientId">:×©× ×”×œ×§×•×—</label>
            <select id="clientId" name="clientId" required>
              <option value="">×‘×—×¨ ×œ×§×•×—</option>
            </select>
            <br />

      
              <label for="durationGoal">:×™×¢×“ ×¡×™×•× ×¤×¨×•×™×™×§×˜</label>
              <input
                type="text"
                id="durationGoal"
                name="durationGoal"
                placeholder="×”×›× ×¡ ×¦×¤×™ ×©×¢×•×ª ×œ×¡×™×•× ×¤×¨×•×™×™×§×˜"
                required
              />
              <br />
      
              <!-- ×›×¤×ª×•×¨ ×©×œ×™×—×” -->
              <button type="submit" class="btn-submit">ğŸ“¤ ×©××•×¨ ×¤×¨×•×™×§×˜</button>
            </form>


           <!-- ×¤×•×¤××¤ ×¢×“×›×•×Ÿ ×¡×©×Ÿ -->
           <div style="display:none;" id="edit-session-modal" class="popup-form">
            <h2 style="text-align: center; margin-bottom: 25px; color: #0072ff; font-size: 24px;">
              <i class="fas fa-edit" style="margin-right: 10px;"></i>×¢×“×›×•×Ÿ ×¡×©×Ÿ
            </h2>
            <form id="edit-session-form">
              <input type="hidden" id="edit-session-id" />
              
              <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ“… ×ª××¨×™×š</label>
                  <input type="date" id="edit-date" required max="" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
                
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ’° ×ª×¢×¨×™×£ ×©×¢×ª×™</label>
                  <input type="number" id="edit-rate" required min="0" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
              </div>
              
              <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">â° ×©×¢×ª ×”×ª×—×œ×”</label>
                  <input type="time" id="edit-start-time" required style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
                
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">â° ×©×¢×ª ×¡×™×•×</label>
                  <input type="time" id="edit-end-time" required style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
              </div>
              
              <div style="margin-bottom: 20px;">
                <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ·ï¸ ×‘×—×¨ ×ª×•×•×™×ª:</label>
                <div class="custom-select-wrapper">
                  <select id="edit-label-id" class="force-dropdown-down" size="1" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; cursor: pointer; box-sizing: border-box; transition: border-color 0.3s; display: block;">
                    <option value="">×‘×—×¨ ×ª×•×•×™×ª</option>
                    <option value="add-new-label" style="color: #0072ff; font-weight: bold;">â• ×”×•×¡×£ ×ª×’×™×ª ×—×“×©×”</option>
                  </select>
                </div>
              </div>
              
              <div style="margin-bottom: 25px;">
                <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ“ ×ª×™××•×¨</label>
                <textarea id="edit-description" rows="4" style="width: 100%; font-size: 15px; padding: 12px; border-radius: 8px; border: 1px solid #ddd; resize: vertical; transition: border-color 0.3s; box-sizing: border-box;"></textarea>
              </div>
          
              <button type="submit" class="btn-submit" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #0072ff, #00c6ff); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0, 114, 255, 0.2);">
                ğŸ’¾ ×©××•×¨ ×©×™× ×•×™×™×
              </button>
            </form>
          </div>

          <!-- ×¤×•×¤××¤ ×”×•×¡×¤×ª ×¡×©×Ÿ ×™×“× ×™×ª -->
          <div style="display: none; width: 450px; background: white; border-radius: 12px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);" id="add-manual-session-modal" class="popup-form">
            <h2 style="text-align: center; margin-bottom: 25px; color: #0072ff; font-size: 24px;">
              <i class="fas fa-plus-circle" style="margin-right: 10px;"></i>×”×•×¡×¤×ª ×¡×©×Ÿ ×™×“× ×™×ª
            </h2>
            <form id="add-manual-session-form">
              
              <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ“… ×ª××¨×™×š</label>
                  <input type="date" id="manual-date" required max="" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
                
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ’° ×ª×¢×¨×™×£ ×©×¢×ª×™</label>
                  <input type="number" id="manual-rate" required min="0" step="0.01" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
              </div>
              
              <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">â° ×©×¢×ª ×”×ª×—×œ×”</label>
                  <input type="time" id="manual-start-time" required style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
                
                <div style="flex: 1;">
                  <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">â° ×©×¢×ª ×¡×™×•×</label>
                  <input type="time" id="manual-end-time" required style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; box-sizing: border-box; transition: border-color 0.3s;" />
                </div>
              </div>
              
              <div style="margin-bottom: 20px;">
                <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ·ï¸ ×‘×—×¨ ×ª×•×•×™×ª:</label>
                <div class="custom-select-wrapper">
                  <select id="manual-label-id" class="force-dropdown-down" size="1" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; cursor: pointer; box-sizing: border-box; transition: border-color 0.3s; display: block;">
                    <option value="">×‘×—×¨ ×ª×•×•×™×ª</option>
                    <option value="add-new-label" style="color: #0072ff; font-weight: bold;">â• ×”×•×¡×£ ×ª×’×™×ª ×—×“×©×”</option>
                  </select>
                </div>
              </div>
              
              <div style="margin-bottom: 25px;">
                <label style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">ğŸ“ ×ª×™××•×¨</label>
                <textarea id="manual-description" rows="4" style="width: 100%; font-size: 15px; padding: 12px; border-radius: 8px; border: 1px solid #ddd; resize: vertical; transition: border-color 0.3s; box-sizing: border-box;" placeholder="×ª××¨ ××ª ×”×¢×‘×•×“×” ×©×‘×•×¦×¢×” ×‘×¡×©×Ÿ ×–×”..."></textarea>
              </div>
          
              <button type="submit" class="btn-submit" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #0072ff, #00c6ff); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0, 114, 255, 0.2);">
                <i class="fas fa-save" style="margin-left: 8px;"></i>×”×•×¡×£ ×¡×©×Ÿ
              </button>
            </form>
          </div>


<!-- <div style="display: none;" id="description-editor-popup"></div> 
        <div id="description-editor-popup" class="popup-form" style="display: none;"></div>
            <h2>×¢×¨×™×›×ª ×ª×™××•×¨ ×”×¤×¨×•×™×§×˜</h2>
            <textarea id="description-textarea" style="width: 100%; height: 200px;"></textarea>
            <button id="save-description-btn">×©××•×¨</button>
          </div>-->
          <div id="description-editor-popup" class="popup-form" style="display: none;">
  <h2>âœï¸ ×¢×¨×™×›×ª ×ª×™××•×¨ ×”×¤×¨×•×™×§×˜</h2>
  <form id="desc-form">
    <div class="form-group">
      <label for="description-textarea">×ª×™××•×¨ ×”×¤×¨×•×™×§×˜:</label>
      <textarea
        id="description-textarea"
        name="description"
        rows="8"
        required
        placeholder="×”×–×Ÿ ×›××Ÿ ××ª ×ª×™××•×¨ ×”×¤×¨×•×™×§×˜ ×”××¤×•×¨×˜..."
      ></textarea>
    </div>

    <button type="submit" class="btn-submit">ğŸ’¾ ×©××•×¨ ×©×™× ×•×™×™×</button>
  </form>
</div>


<div id="end-session-popup" class="popup-form fancybox-content" style="display: none; width: 450px; background: white; border-radius: 12px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
  <h2 style="text-align: center; margin-bottom: 25px; color: #0072ff; font-size: 24px;">
    <i class="fas fa-check-circle" style="margin-right: 10px;"></i>×¡×™×•× ×¡×©×Ÿ
  </h2>

  <div class="form-group" style="margin-bottom: 20px; position: relative;">
    <label for="session-description" style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">×ª×™××•×¨:</label>
    <div style="position: relative;">
      <textarea id="session-description" rows="4" style="width: 100%; font-size: 15px; padding: 12px 12px 12px 45px; border-radius: 8px; border: 1px solid #ddd; resize: vertical; transition: border-color 0.3s; box-sizing: border-box;"></textarea>
      
      <!-- ×›×¤×ª×•×¨ ××™×§×¨×•×¤×•×Ÿ -->
      <button id="voice-record-btn" type="button" class="voice-record-btn" style="position: absolute; left: 8px; top: 8px; width: 32px; height: 32px; border: none; border-radius: 6px; background: linear-gradient(135deg, #6c757d, #5a6268); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 14px; transition: all 0.3s; box-shadow: 0 1px 3px rgba(108, 117, 125, 0.2);">
        <i class="fas fa-microphone"></i>
      </button>
      
      <!-- AI Helper Tooltips -->
      <div id="ai-helper-tooltip" class="ai-tooltip" style="display: none;">
        <div class="ai-tooltip-content">
          <div class="ai-tooltip-text">
            <span class="ai-icon">ğŸ¤–</span>
            <span>×”×× ×ª×¨×¦×” ×©×‘×™× ×” ××œ××›×•×ª×™×ª ×ª×¢×–×•×¨ ×œ×š ×œ× ×¡×— ×•×œ×”×¢×©×™×¨ ××ª ×”×ª×™××•×¨ ×©×œ×š?</span>
          </div>
          <button id="ai-helper-yes-btn" class="ai-tooltip-btn ai-yes-btn">×›×Ÿ ×‘×›×™×£!</button>
        </div>
      </div>

      <div id="ai-result-tooltip" class="ai-tooltip" style="display: none;">
        <div class="ai-tooltip-content">
          <div class="ai-tooltip-text">
            <span class="ai-icon">âœ¨</span>
            <span>×”×× ×”×˜×§×¡×˜ ×œ×©×‘×™×¢×•×ª ×¨×¦×•× ×š?</span>
          </div>
          <div class="ai-tooltip-buttons">
            <button id="ai-approve-btn" class="ai-tooltip-btn ai-yes-btn">×›×Ÿ</button>
            <button id="ai-reject-btn" class="ai-tooltip-btn ai-no-btn">×œ×</button>
          </div>
        </div>
      </div>

      <!-- Voice Recording Tooltip -->
      <div id="voice-recording-tooltip" class="voice-tooltip" style="display: none; position: fixed !important; top: 50% !important; left: 50% !important; transform: translate(-50%, -50%) !important; z-index: 20000 !important;">
        <div class="voice-tooltip-content">
          <div class="voice-tooltip-text">
            <span class="voice-icon"><i class="fas fa-microphone-alt"></i></span>
            <span id="voice-status-text">××§×œ×™×˜... ×“×‘×¨ ×¢×›×©×™×•</span>
          </div>
          <button id="voice-stop-btn" class="voice-tooltip-btn">
            <i class="fas fa-stop"></i> ×¢×¦×•×¨ ×”×§×œ×˜×”
          </button>
        </div>
      </div>

      <!-- AI Loading indicator -->
      <div id="ai-loading" class="ai-loading" style="display: none;">
        <div class="ai-loading-content">
          <div class="ai-spinner"></div>
          <span>×”×‘×™× ×” ×”××œ××›×•×ª×™×ª ××¢×‘×“×ª ××ª ×”×˜×§×¡×˜ ×©×œ×š...</span>
        </div>
      </div>
    </div>
  </div>

  <div class="form-group" style="margin-bottom: 25px;">
    <label for="session-label" style="font-size: 16px; display: block; margin-bottom: 8px; font-weight: 500; color: #333;">×‘×—×¨ ×ª×•×•×™×ª:</label>
    <div class="custom-select-wrapper">
      <select id="session-label" class="force-dropdown-down" size="1" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 8px; border: 1px solid #ddd; background-color: white; cursor: pointer; box-sizing: border-box; transition: border-color 0.3s; display: block;">
        <option value="">×‘×—×¨ ×ª×•×•×™×ª</option>
        <option value="add-new-label" style="color: #0072ff; font-weight: bold;">â• ×”×•×¡×£ ×ª×’×™×ª ×—×“×©×”</option>
        <!-- Options will be populated dynamically -->
      </select>
    </div>
  </div>

  <button id="submit-end-session" class="btn-submit" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #0072ff, #00c6ff); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0, 114, 255, 0.2);">
    ×¡×™×•× ×¡×©×Ÿ
  </button>
</div>



         <div id="team-popup" class="popup-form" style="display: none;">
  <h2 style="text-align: center; margin-bottom: 20px;">ğŸ‘¥ ×¦×•×•×ª ×”×¤×¨×•×™×§×˜</h2>

  <!-- ğŸ”¹ ×¨×©×™××ª ×—×‘×¨×™ ×¦×•×•×ª -->
  <div id="team-members-list" style="margin-bottom: 20px;">
    <h4 style="margin-bottom: 10px;">×—×‘×¨×™× ×§×™×™××™×:</h4>
    <ul id="team-list" style="list-style: none; padding-right: 0;">
      <li>...×˜×•×¢×Ÿ ×¦×•×•×ª</li>
    </ul>
  </div>

  <hr style="margin: 20px 0;" />

  <!-- ğŸ”¹ ×˜×•×¤×¡ ×”×•×¡×¤×” -->
  <h4>â• ×”×•×¡×¤×ª ×—×‘×¨ ×¦×•×•×ª</h4>
  <input
    type="email"
    id="add-user-email"
    placeholder="××™××™×™×œ ×©×œ ×”××©×ª××©"
    style="width: 100%; padding: 10px; margin-bottom: 10px; font-size: 15px;"
  />
  <button id="add-user-btn" class="btn-submit" style="width: 100%;">×”×•×¡×£</button>

  <hr style="margin: 20px 0;" />

  <!-- ğŸ”¹ ×˜×•×¤×¡ ×”×¡×¨×” -->
  <h4>â– ×”×¡×¨×ª ×—×‘×¨ ×¦×•×•×ª</h4>
  <input
    type="email"
    id="remove-user-email"
    placeholder="××™××™×™×œ ×©×œ ×”××©×ª××©"
    style="width: 100%; padding: 10px; margin-bottom: 10px; font-size: 15px;"
  />
  <button id="remove-user-btn" class="btn-submit" style="width: 100%;">×”×¡×¨</button>
</div>

<!-- ğŸŸ¦ ×¤×•×¤××¤ ×¢×¨×™×›×ª ×¤×¨×˜×™ ××©×ª××© -->
    <div id="edit-user-form" class="popup-form" style="display: none">
      <h2>âœï¸ ×¢×¨×™×›×ª ×¤×¨×˜×™ ××©×ª××©</h2>

      <form id="user-details-form">
        <label>×ª××•× ×” × ×•×›×—×™×ª:</label>
        <div id="user-image-preview" style="margin-bottom: 10px">
          <img
            id="user-image-thumb"
            src=""
            alt="×ª××•× ×” × ×•×›×—×™×ª"
            style="
              max-width: 120px;
              max-height: 80px;
              border-radius: 8px;
              display: none;
              box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
            "
          />
        </div>

        <label for="userImageFile">×‘×—×¨ ×ª××•× ×” ×—×“×©×”:</label>
        <input
          type="file"
          id="userImageFile"
          name="userImageFile"
          accept="image/*"
        />

        <label>×©× ×¤×¨×˜×™:</label>
        <input type="text" id="user-firstname" required />

        <label>×©× ××©×¤×—×”:</label>
        <input type="text" id="user-lastname" required />

        <label>××™××™×™×œ:</label>
        <input
          type="email"
          id="user-email"
          required
          pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
          placeholder="example@example.com"
        />

        <label>×¡×™×¡××” × ×•×›×—×™×ª:</label>
        <input type="password" id="user-current-password" required />

        <button type="submit" class="btn-submit">ğŸ“¤ ×©××•×¨ ×¤×¨×˜×™×</button>
        <button type="button" id="open-password-popup" class="btn-submit">
          ğŸ”’ ×”×—×œ×¤×ª ×¡×™×¡××”
        </button>
      </form>
    </div>

    <!-- ğŸŸ¨ ×¤×•×¤××¤ ×©×™× ×•×™ ×¡×™×¡××” -->
    <div id="change-password-form" class="popup-form" style="display: none">
      <h2>ğŸ”’ ×©×™× ×•×™ ×¡×™×¡××”</h2>
      <form id="user-password-form">
        <label>×¡×™×¡××” × ×•×›×—×™×ª:</label>
        <input type="password" id="old-password" required />

        <label>×¡×™×¡××” ×—×“×©×”:</label>
        <input
          type="password"
          id="new-password"
          required
          minlength="8"
          maxlength="30"
          pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,30}$"
          placeholder="×œ×¤×—×•×ª 8 ×ª×•×•×™× â€“ ××•×ª×™×•×ª ×•××¡×¤×¨×™×"
        />

        <button type="submit" class="btn-submit">ğŸ” ×©× ×” ×¡×™×¡××”</button>
      </form>
    </div>

          
     <script src="https://cdn.jsdelivr.net/npm/easytimer.js@4.3.1/dist/easytimer.min.js"></script>

     <script src="js/AjaxCall.js"></script>

     <script src="js/wow.min.js"></script>
     <script>
       new WOW().init();
     </script>

     <!-- Fancybox JS -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
     <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
     <script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>
     <script src="js/api-config.js"></script>
     <script src="js/projectPage.js"></script>
         <script src="js/sidebar-active.js"></script>
    <script src="js/edit-user.js"></script>
    <script src="js/project-unread-checker.js"></script>



    <!-- Add the new popup for adding team members -->
    <div id="add-team-member-popup" class="popup-form" style="display: none;">
      <h2 style="text-align: center; margin-bottom: 12px; font-size: 18px;">â• ×”×•×¡×¤×ª ××©×ª××© ×œ×¤×¨×•×™×§×˜</h2>
      
      <!-- List of current team members -->
      <div id="current-team-members" style="margin-bottom: 12px;">
        <h4 style="margin-bottom: 8px; border-bottom: 1px solid #e0e0e0; padding-bottom: 5px; font-size: 15px;">××©×ª××©×™× ××©×•×™×›×™× ×œ×¤×¨×•×™×§×˜:</h4>
        <div id="current-team-list" class="team-members-container">
          <div class="empty-team-message">...×˜×•×¢×Ÿ ××©×ª××©×™×</div>
        </div>
      </div>
      
      <hr style="margin: 12px 0;" />
      
      <!-- Add user form -->
      <div style="margin-top: 12px;">
        <input
          type="email"
          id="add-team-member-email"
          placeholder="×”×–×Ÿ ××ª ×”××™×™×œ ×©×œ ×”××©×ª××©"
          style="width: 100%; padding: 8px; margin-bottom: 8px; font-size: 14px; border-radius: 6px;"
        />
        <button id="add-team-member-btn" class="btn-submit" style="width: 100%; padding: 8px;">×”×•×¡×£ ××©×ª××©</button>
      </div>
    </div>

    <!-- Add the new popup for removing team members -->
    <div id="remove-team-member-popup" class="popup-form" style="display: none;">
      <h2 style="text-align: center; margin-bottom: 12px; font-size: 18px;">â– ×”×¡×¨×ª ××©×ª××© ××”×¤×¨×•×™×§×˜</h2>
      
      <!-- List of current team members -->
      <div id="remove-current-team-members" style="margin-bottom: 12px;">
        <h4 style="margin-bottom: 8px; border-bottom: 1px solid #e0e0e0; padding-bottom: 5px; font-size: 15px;">××©×ª××©×™× ××©×•×™×›×™× ×œ×¤×¨×•×™×§×˜:</h4>
        <div id="remove-team-list" class="team-members-container">
          <div class="empty-team-message">...×˜×•×¢×Ÿ ××©×ª××©×™×</div>
        </div>
      </div>
      
      <hr style="margin: 12px 0;" />
      
      <!-- Remove user form -->
      <div style="margin-top: 12px;">
        <!-- <input
          type="email"
          id="remove-team-member-email"
          placeholder="×”×–×Ÿ ××ª ×”××™×™×œ ×©×œ ×”××©×ª××© ×œ×”×¡×¨×”"
          style="width: 100%; padding: 8px; margin-bottom: 8px; font-size: 14px; border-radius: 6px;"
        /> -->
        <!-- <button id="remove-team-member-btn" class="btn-submit" style="width: 100%; padding: 8px; background: linear-gradient(to right, #ff4e50, #b82613);">×”×¡×¨ ××©×ª××©</button> -->
      </div>
    </div>

    <!-- Add the new popup for task management -->
    <div id="tasks-management-popup" class="popup-form" style="display: none; max-width: 600px;">
      <h2 style="text-align: center; margin-bottom: 12px; font-size: 18px;">ğŸ—‚ï¸ × ×™×”×•×œ ××©×™××•×ª</h2>
      
      <!-- Team member selection dropdown -->
      <div style="margin-bottom: 15px;">
        <label for="task-user-select" style="display: block; margin-bottom: 5px; font-weight: bold;">×‘×—×¨ ××™×© ×¦×•×•×ª:</label>
        <select id="task-user-select" style="width: 100%; padding: 8px; border-radius: 6px; font-size: 14px;">
          <option value="">×˜×•×¢×Ÿ ×× ×©×™ ×¦×•×•×ª...</option>
        </select>
      </div>
      
      <!-- Tasks section -->
      <div id="tasks-container" style="margin-top: 15px;">
        <div style="margin-bottom: 10px;">
          <h3 style="margin: 0; font-size: 16px;">××©×™××•×ª</h3>
        </div>
        
        <!-- Tasks table -->
        <div style="max-height: 300px; overflow-y: auto;">
          <table id="tasks-table" style="width: 100%; border-collapse: collapse; font-size: 14px;">
            <thead>
              <tr style="background-color: #f0f0f0; text-align: right;">
                <th style="padding: 8px; border: 1px solid #ddd;">××©×™××”</th>
                <th style="padding: 8px; border: 1px solid #ddd;">×ª××¨×™×š ×™×¢×“</th>
                <th style="padding: 8px; border: 1px solid #ddd;">×¡×˜×˜×•×¡</th>
                <th style="padding: 8px; border: 1px solid #ddd; width: 50px;">×¤×¢×•×œ×•×ª</th>
              </tr>
            </thead>
            <tbody id="tasks-table-body">
              <tr>
                <td colspan="4" style="text-align: center; padding: 10px;">×‘×—×¨ ××™×© ×¦×•×•×ª ×›×“×™ ×œ×¦×¤×•×ª ×‘××©×™××•×ª</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- Add task button -->
        <div style="margin-top: 10px; text-align: left;">
          <button id="add-new-task-btn" class="btn-submit" style="padding: 6px 12px; font-size: 14px;">â• ×”×•×¡×£ ××©×™××”</button>
        </div>
        
        <!-- Add task form - Initially hidden -->
        <div id="add-task-form" style="margin-top: 15px; padding: 10px; background-color: #f9f9f9; border-radius: 6px; display: none;">
          <h4 style="margin-top: 0; margin-bottom: 10px; font-size: 15px;">×”×•×¡×£ ××©×™××” ×—×“×©×”</h4>
          <div style="margin-bottom: 8px;">
            <label for="new-task-description" style="display: block; margin-bottom: 3px;">×ª×™××•×¨ ×”××©×™××”:</label>
            <input type="text" id="new-task-description" style="width: 100%; padding: 6px; border-radius: 4px; border: 1px solid #ccc;" />
          </div>
          <div style="margin-bottom: 8px;">
            <label for="new-task-due-date" style="display: block; margin-bottom: 3px;">×ª××¨×™×š ×™×¢×“:</label>
            <input type="date" id="new-task-due-date" style="width: 100%; padding: 6px; border-radius: 4px; border: 1px solid #ccc;" />
          </div>
          <div style="display: flex; justify-content: space-between; margin-top: 10px;">
            <button id="save-new-task-btn" class="btn-submit" style="padding: 6px 12px;">×©××•×¨ ××©×™××”</button>
            <button id="cancel-new-task-btn" type="button" style="padding: 6px 12px; background-color: #f0f0f0; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">×‘×™×˜×•×œ</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add popup for TeamMember's tasks -->
    <div id="my-tasks-popup" class="popup-form" style="display: none; max-width: 600px;">
      <h2 style="text-align: center; margin-bottom: 12px; font-size: 18px;">ğŸ“‹ ×”××©×™××•×ª ×©×œ×™</h2>
      
      <!-- Tasks table -->
      <div style="max-height: 350px; overflow-y: auto;">
        <table id="my-tasks-table" style="width: 100%; border-collapse: collapse; font-size: 14px;">
          <thead>
            <tr style="background-color: #f0f0f0; text-align: right;">
              <th style="padding: 8px; border: 1px solid #ddd;">××©×™××”</th>
              <th style="padding: 8px; border: 1px solid #ddd;">×ª××¨×™×š ×™×¢×“</th>
              <th style="padding: 8px; border: 1px solid #ddd; text-align: center;">×¡×˜×˜×•×¡</th>
            </tr>
          </thead>
          <tbody id="my-tasks-table-body">
            <tr>
              <td colspan="3" style="text-align: center; padding: 10px;">×˜×•×¢×Ÿ ××©×™××•×ª...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ×¤×•×¤-××¤ ×”×•×¡×¤×ª ×ª×’×™×ª ×—×“×©×” -->
    <div id="new-label-form-project" class="popup-form" style="display: none;">
      <h2>â• ×ª×’×™×ª ×—×“×©×”</h2>
      <form id="label-form-project">
        <label for="labelName-project">×©× ×ª×’×™×ª:</label>
        <input type="text" id="labelName-project" name="labelName" required />

        <label>×‘×—×¨ ×¦×‘×¢:</label>
        <div class="color-picker-container">
          <div class="color-palette">
            <!-- ×©×•×¨×” ×¨××©×•× ×” -->
            <div
              class="color-option"
              data-color="#6699CC"
              style="background-color: #6699cc"
              title="×›×—×•×œ ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#FF6B6B"
              style="background-color: #ff6b6b"
              title="××“×•×"
            ></div>
            <div
              class="color-option"
              data-color="#4ECDC4"
              style="background-color: #4ecdc4"
              title="×˜×•×¨×§×™×–"
            ></div>
            <div
              class="color-option"
              data-color="#45B7D1"
              style="background-color: #45b7d1"
              title="×›×—×•×œ"
            ></div>
            <div
              class="color-option"
              data-color="#96CEB4"
              style="background-color: #96ceb4"
              title="×™×¨×•×§ ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#FECA57"
              style="background-color: #feca57"
              title="×¦×”×•×‘"
            ></div>
            <div
              class="color-option"
              data-color="#FF9FF3"
              style="background-color: #ff9ff3"
              title="×•×¨×•×“"
            ></div>

            <!-- ×©×•×¨×” ×©× ×™×™×” -->
            <div
              class="color-option"
              data-color="#A8E6CF"
              style="background-color: #a8e6cf"
              title="×™×¨×•×§ ×¨×š"
            ></div>
            <div
              class="color-option"
              data-color="#FFB3BA"
              style="background-color: #ffb3ba"
              title="×•×¨×•×“ ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#DDA0DD"
              style="background-color: #dda0dd"
              title="×¡×’×•×œ ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#98D8C8"
              style="background-color: #98d8c8"
              title="×™×¨×•×§ ×™×"
            ></div>
            <div
              class="color-option"
              data-color="#F7DC6F"
              style="background-color: #f7dc6f"
              title="×¦×”×•×‘ ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#BB8FCE"
              style="background-color: #bb8fce"
              title="×¡×’×•×œ"
            ></div>
            <div
              class="color-option"
              data-color="#85C1E9"
              style="background-color: #85c1e9"
              title="×›×—×•×œ ×¨×š"
            ></div>

            <!-- ×©×•×¨×” ×©×œ×™×©×™×ª -->
            <div
              class="color-option custom-color"
              id="custom-color-btn-project"
              title="×¦×‘×¢ ××•×ª×× ××™×©×™×ª"
            >
              <i class="fas fa-palette"></i>
            </div>
            <div
              class="color-option"
              data-color="#BFBFBF"
              style="background-color: #bfbfbf"
              title="××¤×•×¨"
            ></div>
            <div
              class="color-option"
              data-color="#FF8A80"
              style="background-color: #ff8a80"
              title="××“×•× ×‘×”×™×¨"
            ></div>
            <div
              class="color-option"
              data-color="#8BC34A"
              style="background-color: #8bc34a"
              title="×™×¨×•×§ ×—×™"
            ></div>
            <div
              class="color-option"
              data-color="#795548"
              style="background-color: #795548"
              title="×—×•×"
            ></div>
            <div
              class="color-option"
              data-color="#607D8B"
              style="background-color: #607d8b"
              title="×›×—×•×œ ××¤×•×¨"
            ></div>
            <div
              class="color-option"
              data-color="#E91E63"
              style="background-color: #e91e63"
              title="×•×¨×•×“ ×¢×–"
            ></div>
          </div>
        </div>

        <!-- ×ª×¦×•×’×” ××§×“×™××” ×©×œ ×”×ª×’×™×ª -->
        <div class="label-preview-container">
          <label>×ª×¦×•×’×” ××§×“×™××”:</label>
          <div class="label-preview" id="label-preview-project">
            <span id="preview-text-project">×ª×’×™×ª ×—×“×©×”</span>
          </div>
        </div>

        <!-- ×©×“×” ×¦×‘×¢ × ×¡×ª×¨ ×œ×©××™×¨×ª ×”×¢×¨×š -->
        <input
          type="hidden"
          id="labelColor-project"
          name="labelColor"
          value="#6699CC"
        />

        <!-- input ×¦×‘×¢ × ×¡×ª×¨ ×œ×¦×‘×¢ ××•×ª×× ××™×©×™×ª -->
        <input type="color" id="custom-color-picker-project" style="display: none" />

        <button type="submit" class="btn-submit">ğŸ“¤ ×©××•×¨ ×ª×’×™×ª</button>
      </form>
    </div>

    <script src="js/admin-mode.js"></script>
    <script src="js/chat-badge.js"></script>

    <!-- ×›×¤×ª×•×¨ ×¦×£ ×œ×¢×•×–×¨ ×”××™×©×™ - ×’×¨×¡×” ××—×•×–×§×ª -->
    <div id="assistant-button-container" style="position: fixed; bottom: 30px; left: 30px; z-index: 99999;">
      <button id="floating-assistant-btn" onclick="window.location.href='assistant.html'" title="×”×¢×•×–×¨ ×”××™×©×™ ×©×œ×š" style="width: 60px; height: 60px; background: linear-gradient(135deg, #007bff, #0056b3); border: none; border-radius: 50%; color: white; cursor: pointer; box-shadow: 0 5px 25px rgba(0, 123, 255, 0.4); transition: all 0.3s; display: flex; align-items: center; justify-content: center;">
        <img src="./images/icons/aiassistant-white.png" alt="×”×¢×•×–×¨ ×”××™×©×™" style="width: 24px; height: 24px;" onerror="this.style.display='none'; this.parentElement.innerHTML='ğŸ¤–';">
      </button>
    </div>

    <script>
    // ×•×™×“×•× ×©×”×›×¤×ª×•×¨ × ×¨××” - ×’×¨×¡×” ××—×•×–×§×ª
    document.addEventListener('DOMContentLoaded', function() {
      const assistantBtn = document.getElementById('floating-assistant-btn');
      const container = document.getElementById('assistant-button-container');
      
      if (assistantBtn && container) {
        console.log('×›×¤×ª×•×¨ ×”×¢×•×–×¨ ×”××™×©×™ × ×˜×¢×Ÿ ×‘×”×¦×œ×—×”');
        
        // ×›×¤×™×™×ª ×¢×™×¦×•×‘ ×—×–×§
        container.style.cssText = 'position: fixed !important; bottom: 30px !important; left: 30px !important; z-index: 999999 !important; width: 60px !important; height: 60px !important; pointer-events: auto !important;';
        assistantBtn.style.cssText = 'width: 60px !important; height: 60px !important; background: linear-gradient(135deg, #007bff, #0056b3) !important; border: none !important; border-radius: 50% !important; color: white !important; cursor: pointer !important; box-shadow: 0 5px 25px rgba(0, 123, 255, 0.4) !important; transition: all 0.3s !important; display: flex !important; align-items: center !important; justify-content: center !important; visibility: visible !important; opacity: 1 !important; transform: none !important; margin: 0 !important; padding: 0 !important;';
        
        // ×‘×“×™×§×ª ××™×§×•×
        const rect = assistantBtn.getBoundingClientRect();
        console.log('××™×§×•× ×”×›×¤×ª×•×¨:', {
          top: rect.top,
          left: rect.left,
          width: rect.width,
          height: rect.height,
          visible: rect.width > 0 && rect.height > 0
        });
        
        // ×× ×”×›×¤×ª×•×¨ ×¢×“×™×™×Ÿ ×œ× × ×¨××”, × ×™×¦×•×¨ ××—×“ ×—×“×©
        setTimeout(() => {
          const testRect = assistantBtn.getBoundingClientRect();
          if (testRect.width === 0 || testRect.height === 0) {
            console.log('×™×•×¦×¨ ×›×¤×ª×•×¨ ×—×“×© ×›×™ ×”×§×™×™× ×œ× × ×¨××”');
            createForceButton();
          }
        }, 1000);
        
      } else {
        console.error('×›×¤×ª×•×¨ ×”×¢×•×–×¨ ×”××™×©×™ ×œ× × ××¦×');
        createForceButton();
      }
    });
    
    // ×¤×•× ×§×¦×™×” ×œ×™×¦×™×¨×ª ×›×¤×ª×•×¨ ×‘×›×—
    function createForceButton() {
      // ×”×¡×¨×ª ×›×¤×ª×•×¨×™× ×§×™×™××™×
      const existing = document.querySelectorAll('#floating-assistant-btn, #assistant-button-container');
      existing.forEach(el => el.remove());
      
      // ×™×¦×™×¨×ª ×›×¤×ª×•×¨ ×—×“×©
      const btn = document.createElement('div');
      btn.innerHTML = `
        <button onclick="window.location.href='assistant.html'" title="×”×¢×•×–×¨ ×”××™×©×™ ×©×œ×š" style="width: 60px; height: 60px; background: linear-gradient(135deg, #007bff, #0056b3); border: none; border-radius: 50%; color: white; cursor: pointer; box-shadow: 0 5px 25px rgba(0, 123, 255, 0.4); display: flex; align-items: center; justify-content: center; padding: 12px;">
          <img src="./images/icons/aiassistant-white.png" alt="×”×¢×•×–×¨ ×”××™×©×™" style="width: 24px; height: 24px;" onerror="this.style.display='none'; this.parentNode.innerHTML='ğŸ¤–';">
        </button>
      `;
      btn.style.cssText = 'position: fixed; bottom: 30px; left: 30px; z-index: 999999; width: 60px; height: 60px;';
      document.body.appendChild(btn);
      console.log('×›×¤×ª×•×¨ ×—×“×© × ×•×¦×¨ ×‘×›×— ×¢× ×ª××•× ×”');
    }
    </script>
  </body>
</html>


